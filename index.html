<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIENDA ONLINE</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<style>

    @import url('https://fonts.cdnfonts.com/css/homer-simpson-revised');

    body {
        font-family: 'Homer Simpson Revised', Arial, Helvetica, sans-serif;
        color: black;
        background-image: url('https://img.freepik.com/vector-premium/donuts-patrones-fisuras-sobre-fondo-blanco-donuts-sabrosos-glaseado-polvo-icono-ilustracion-vectorial_385450-853.jpg');
        background-repeat: repeat;
    }

    .container {
        background-color: white;
        border-radius: 55px;
        background-image: url('https://i.pinimg.com/originals/ad/1e/2c/ad1e2c0c93696b30a9a6c916cb73d4b7.jpgs');
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;

    }

    .producto img {
        width: 200px;
        height: 200px;
        object-fit: contain;
        border-radius: 100%;
    }

    .carrito {
        border: solid;
        border-radius: 16%;
        box-shadow: 1px 1px 16px  rgb(0, 0, 0);
    }
    
</style>

<body>
    <div class="container mt-5">
        <header class="titulo text-center text-warning ">
            <h1>TIENDA ONLINE</h1>
        </header>
        <div class="row mt-3 ">
            <div class="col-md-8">
                <div class="row mb-5">
                    <div class="col-md-4">
                        <div class="producto ">
                            <img src="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcTqXJbshggzYcmfodnzVkqJhkwmLBtYRoJovDTBccinEKzHDyUbqPghoZCycwbfzp6EbgLKQ6jcc88bKm9iFKjCTZX4j0zNGRSleBUfK693isVfvXnOAM7QM_2qLki9E9KPrdkJLIH4DUU&usqp=CAc"
                                class="img-fluid img-thumbnail mx-auto d-block  " alt="Producto 1">
                            <div class="InfoProducto text-center">THE SIMPSON FAMILY MAXI
                                <p class="precio">200€</p>
                                <div class="boton">
                                    <input type="number" id="cantidad1" value="1" min="1">
                                    <input type="text" id="nombre1" nombre="THE SIMPSON FAMILY MAXI"
                                        value="THE SIMPSON FAMILY MAXI" style="display: none;" disabled>
                                    <input type="number" id="precio1" value="200" style="display: none;" disabled>
                                    <button class="btn btn-primary mt-1" onclick="añadirCarrito(1)">Añadir al
                                        Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="producto">
                            <img src="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSjb_4qAeI1x1waOGzYPvs6Cm52ABj6p6A3oLOwgNYaeKb1HzbMS3andQnANlZMV9jnJd3DzrAKyFgaIHdrYZgQSMXXEahIW9ky-LY9sTYBE2hJIblH0Y705OSQh4CxlxUt2nC06dXqVBc&usqp=CAc"
                                class="img-fluid img-thumbnail mx-auto d-block " alt="Producto 2">
                            <div class="InfoProducto text-center">BEST. DAD. EVER. HOMER.
                                <p class="precio">59€</p>
                                <div class="boton">
                                    <input type="number" id="cantidad2" value="1" min="1">
                                    <input type="text" id="nombre2" nombre="BEST. DAD. EVER. HOMER."
                                        value="BEST. DAD. EVER. HOMER." style="display: none;" disabled>
                                    <input type="number" id="precio2" value="59" style="display: none;" disabled>
                                    <button class="btn btn-primary mt-1" onclick="añadirCarrito(2)">Añadir al
                                        Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="producto">
                            <img src="https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcSqcNscy-aKJoJ6ZCYquU1XC4l7oRyVWOc1VH2H_4maTTQAplXXrooObJ0yKV6BtqmW7wnUf63d4uXWIR0Kl3MUNjIjNdLkKgYnr8jRfxE-loUSAy1yXU9SVSiGFw3fDulVeBIy7w&usqp=CAc"
                                class="img-fluid img-thumbnail mx-auto d-block " alt="Producto 3">
                            <div class="InfoProducto text-center">SECONDS OF SWEETNESS
                                <p class="precio">88€</p>
                                <div class="boton">
                                    <input type="number" id="cantidad3" value="1" min="1">
                                    <input type="text" id="nombre3" nombre="SECONDS OF SWEETNESS"
                                        value="SECONDS OF SWEETNESS" style="display: none;" disabled>
                                    <input type="number" id="precio3" value="88" style="display: none;" disabled>
                                    <button class="btn btn-primary mt-1" onclick="añadirCarrito(3)">Añadir al
                                        Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-3 mb-5">
                    <div class="col-md-4">
                        <div class="producto">
                            <img src="https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcT_1RJ4_WNzjYc7EJvk6V0W_6z9mZvzYXCQaW_OEInn4Ea_0DaKWHTDi0G6ajyy3tOT3G9A2t3MrgXA5IuqxT4NHHvPLa-OjWwTf_xKZPT42GM571SRj-PKoUquWaFjgsVoAYkuow&usqp=CAc"
                                class="img-fluid img-thumbnail mx-auto d-block"   alt="Producto 4">
                            <div class="InfoProducto text-center">D'OH OF THE DEAD
                                <p class="precio">75€</p>
                                <div class="boton">
                                    <input type="number" id="cantidad4" value="1" min="1">
                                    <input type="text" id="nombre4" nombre="D'OH OF THE DEAD" value="D'OH OF THE DEAD"
                                        style="display: none;" disabled>
                                    <input type="number" id="precio4" value="75" style="display: none;" disabled>
                                    <button class="btn btn-primary mt-1" onclick="añadirCarrito(4)">Añadir al
                                        Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="producto">
                            <img src="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSuhquSysBXdqUwkp3hrmkddrAs27rQeQsIS3Dqn_Ck6ds3pieWVYzrkgtcsoGXsDsOZ4HHlkw8gfCD_GKNbAIQ1gq6GWEZplgTr8e-55TQprcXRVb1-C2sce56kckjQGoUOM3yiXPw&usqp=CAc"
                                class="img-fluid img-thumbnail mx-auto d-block" alt="Producto 5">
                            <div class="InfoProducto text-center">ANGEL BART
                                <p class="precio">65.55€</p>
                                <div class="boton">
                                    <input type="number" id="cantidad5" value="1" min="1">
                                    <input type="text" id="nombre5" nombre="ANGEL BART" value="ANGEL BART"
                                        style="display: none;" disabled>
                                    <input type="number" id="precio5" value="65.55" style="display: none;" disabled>
                                    <button class="btn btn-primary mt-1" onclick="añadirCarrito(5)">Añadir al
                                        Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="producto">
                            <img src="https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcTvzNg1drN8JJjLehP3ECWl7Fpa00MicR8T-FaY4ERgPX6-apmNaaA0gSZAAkBd_i3y1zFRfbcgC2zcrBiKmztOQb9253VcXHcnnb4MhEc3VgfL3-cTuLm8qpDLEJJVbO9j47COyjIf&usqp=CAc"
                                class="img-fluid img-thumbnail mx-auto d-block " alt="Producto 6">
                            <div class="InfoProducto text-center">CHRISTMAS SIMPSONS
                                <p class="precio">60€</p>
                                <div class="boton">
                                    <input type="number" id="cantidad6" value="1" min="1">
                                    <input type="text" id="nombre6" nombre="CHRISTMAS SIMPSONS"
                                        value="CHRISTMAS SIMPSONS" style="display: none;" disabled>
                                    <input type="number" id="precio6" value="60" style="display: none;" disabled>
                                    <button class="btn btn-primary mt-1" onclick="añadirCarrito(6)">Añadir al
                                        Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-5">
                <div class="carrito text-center p-3 d-flex flex-column h-100 position-relative text-warning ">
                    <h1>Carrito de Compras</h1>
                    <ul id="carrito"></ul>
                    <footer class="mt-auto">
                        <h2 class="total text-warning">
                            Total Carrito :
                            <span id="mostrarTotal">
                                0.0
                            </span>
                            €
                        </h2>
                        <div class="d-flex justify-content-center gap-2 ">
                            <button class="btn btn-primary " onclick="FinalizarCompra()">Finalizar Compra</button>
                            <button class="btn btn-danger" onclick="borrarProducto()">Eliminar Producto</button>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
    </div>
    <script>
        let ListaProductos = [];

        function añadirCarrito(id) {
            const boton = event.target;
            const nombre = document.getElementById('nombre' + id).value;
            const precio = document.getElementById('precio' + id).value;
            const cantidad = document.getElementById('cantidad' + id).value;

            const producto = {
                nombre: nombre,
                precio: precio,
                cantidad: cantidad,
                total: precio * cantidad

            };
            ListaProductos.push(producto)
            console.log(ListaProductos)
            mostrarCarrito();
        };

        function mostrarCarrito() {
            const contenidoCarrito = document.getElementById('carrito');
            let mostrarTotal = document.getElementById('mostrarTotal');

            contenidoCarrito.innerHTML = "";
            let PrecioTotal = 0;

            ListaProductos.forEach((dato, index) => {
                const divmuestra = document.createElement('div');
                divmuestra.innerHTML = `
                ${index + 1}. ${dato.nombre} - ${dato.precio}€ x ${dato.cantidad} = ${dato.total.toFixed(2)}€
                `;
                contenidoCarrito.appendChild(divmuestra);
                PrecioTotal += dato.total;
            });
            mostrarTotal.textContent = PrecioTotal.toFixed(2);
        };

        function FinalizarCompra() {
            const contenidoCarrito = document.getElementById('carrito').textContent;
            const CantidadTotal = document.getElementById('mostrarTotal').textContent;
            let nProductos = 0;

            ListaProductos.forEach((producto) => {
                nProductos += parseInt(producto.cantidad);

            }
            );
            const decimales = parseFloat(CantidadTotal).toFixed(2);
            console.log(nProductos);
            console.log(CantidadTotal);
            if (nProductos > 0) {
                alert(`TU COMPRA ES: ${nProductos} productos con un importe total de ${decimales} €`);
            } else {
                alert(`¡¡NO HAS COMPRADO NADA!!`);
            }
        };

        function borrarProducto() {
            if (ListaProductos.length > 0) {
                ListaProductos.pop();
                mostrarCarrito();
            } else {
                alert(`No hay articulos en el carrito `)
            }
        };

    </script>
</body>

</html>